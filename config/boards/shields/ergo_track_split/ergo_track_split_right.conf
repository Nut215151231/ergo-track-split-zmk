# Copyright (c) 2024
# SPDX-License-Identifier: MIT

# Keyboard Name  
CONFIG_ZMK_KEYBOARD_NAME="Ergo Track Split"

# Bluetooth & Power
CONFIG_BT_DEVICE_NAME_MAX=20
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000
CONFIG_BT=y
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Split keyboard
CONFIG_ZMK_SPLIT=y
CONFIG_ZMK_SPLIT_BLE=y

# Mouse & Pointing
CONFIG_ZMK_MOUSE=y
CONFIG_ZMK_POINTING=y

# SPI & Input (トラックボール通信用)
CONFIG_SPI=y
CONFIG_INPUT=y

# PMW3610 ドライバ本体のみ有効化
CONFIG_PMW3610=y

# --- エラーの原因となる未定義/矛盾設定を無効化 ---
# 右手(Peripheral)ではリスナーをnにする必要があります
CONFIG_ZMK_INPUT_LISTENER=n
# 以下の設定はドライバに存在しないため削除
# CONFIG_ZMK_INPUT_MOUSE_PS2=n
# CONFIG_PMW3610_ORIENTATION_270=y

# 右クリックが効かない対策（USB通信を確実に有効化）
CONFIG_ZMK_USB=y

# その他デバイス設定
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_BATTERY_REPORT_INTERVAL=60
CONFIG_PM_DEVICE=y
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=5
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5

# 右手側のマウス入力を通信に載せる
CONFIG_ZMK_SPLIT_PERIPHERAL_INPUT=y