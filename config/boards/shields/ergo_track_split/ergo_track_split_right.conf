# Copyright (c) 2024
# SPDX-License-Identifier: MIT

# Keyboard Name
CONFIG_ZMK_KEYBOARD_NAME="Ergo Track Split"

# Bluetooth & Power
CONFIG_BT_DEVICE_NAME_MAX=20
CONFIG_ZMK_SLEEP=y
CONFIG_ZMK_IDLE_SLEEP_TIMEOUT=900000
CONFIG_BT=y
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Split Settings
CONFIG_ZMK_SPLIT=y
CONFIG_ZMK_SPLIT_BLE=y

# Mouse & Pointing (右手でもマウスボタンを認識させる)
CONFIG_ZMK_MOUSE=y

# SPI & Driver (トラックボールセンサー用)
CONFIG_SPI=y
CONFIG_INPUT=y
CONFIG_PMW3610=y

# 重要: 右手側では LISTENER を n にしてビルドエラーを回避
CONFIG_ZMK_INPUT_LISTENER=n

# USB (右手単体テスト用)
CONFIG_ZMK_USB=y

# Encoder & Others
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y
CONFIG_ZMK_BATTERY_REPORTING=y
CONFIG_ZMK_BATTERY_REPORT_INTERVAL=60
CONFIG_PM_DEVICE=y
CONFIG_ZMK_KSCAN_DEBOUNCE_PRESS_MS=5
CONFIG_ZMK_KSCAN_DEBOUNCE_RELEASE_MS=5

# トラックボール(PMW3610)のドライバを確実に有効化
CONFIG_SPI=y
CONFIG_INPUT=y
CONFIG_PMW3610=y